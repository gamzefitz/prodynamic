{% extends "base.html" %} {% block content %}
<div class="topbar">
  <h1>Table: {{ current_table }}</h1>

  <div class="actions">
    <select onchange="location = this.value" class="btn">
      {% for t in tables %} {% if t == current_table %}
      <option value="{{ url_for('table_view', table_name=t) }}" selected>
        {{ t }}
      </option>
      {% else %}
      <option value="{{ url_for('table_view', table_name=t) }}">{{ t }}</option>
      {% endif %} {% endfor %}
    </select>

    {% if current_table == "Salary" %}
    <a class="btn btn-primary" href="{{ url_for('add_salary') }}"
      >+ Add Salary</a
    >
    {% endif %}
  </div>
</div>

<table>
  <thead>
    <tr>
      {% for c in col_names %}
      <th>{{ c }}</th>
      {% endfor %} {% if current_table == "Salary" %}
      <th>Actions</th>
      {% endif %}
    </tr>
  </thead>
  <tbody>
    {% for r in rows %}
    <tr>
      {% for c in col_names %}
      <td>{{ r[c] }}</td>
      {% endfor %} {% if current_table == "Salary" %}
      <td>
        <div class="actions">
          <a
            class="btn"
            href="{{ url_for('edit_salary', salary_id=r['salary_id']) }}"
            >Edit</a
          >
          <form
            class="inline"
            method="post"
            action="{{ url_for('delete_salary', salary_id=r['salary_id']) }}"
            onsubmit="return confirm('Delete salary_id {{ r['salary_id'] }}?');"
          >
            <button class="btn btn-danger" type="submit">Delete</button>
          </form>
        </div>
      </td>
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
